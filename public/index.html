<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facebook Share Automation</title>
</head>
<body>
    <h1>Facebook Share Automation</h1>

    <form id="shareForm">
        <label for="fbLink">Facebook Post URL:</label>
        <input type="text" id="fbLink" placeholder="Enter Facebook Post URL" required><br><br>

        <label for="shareCount">Number of Shares:</label>
        <input type="number" id="shareCount" value="1" required><br><br>

        <label for="interval">Interval Between Shares (in seconds):</label>
        <input type="number" id="interval" value="2" required><br><br>

        <button type="submit">Start Sharing</button>
    </form>

    <p id="status"></p>

    <script>
        document.getElementById('shareForm').addEventListener('submit', async function (e) {
            e.preventDefault();

            const fbLink = document.getElementById('fbLink').value;
            const shareCount = parseInt(document.getElementById('shareCount').value, 10);
            const interval = parseInt(document.getElementById('interval').value, 10);

            const cookies = [
                // You will need to fill this with actual cookies
                {
                    "key": "sb",
                    "value": "_hO8Zqv2WYqGeG-5q3HklftT",
                    "domain": "facebook.com",
                    "path": "/",
                    "hostOnly": false,
                    "creation": "2024-12-19T05:34:09.967Z",
                    "lastAccessed": "2024-12-19T05:34:09.967Z"
                },
                // Add other cookies here
            ];

            const data = {
                fbLink,
                shareCount,
                interval,
                cookies
            };

            try {
                const response = await fetch('/api/share', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });

                const result = await response.json();

                if (response.ok) {
                    document.getElementById('status').textContent = `Successfully shared ${result.message}`;
                } else {
                    document.getElementById('status').textContent = `Error: ${result.error}`;
                }
            } catch (error) {
                document.getElementById('status').textContent = `Error: ${error.message}`;
            }
        });
    </script>
</body>
</html>
